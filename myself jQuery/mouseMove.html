<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>mousemove</title>
	<link rel="stylesheet" href="./css/common.css">
</head>
<body>
	<style>
		.main{width:400px; min-height:300px; margin:30px auto; position:relative; background:#f5f5f5;}
		.main h5{width:150px; position:absolute; height:35px; line-height:35px; text-align:center; color:#666; border:1px solid #d9d9d9; cursor:pointer; left:10px; top:10px;}
	</style>
	<div class="main">
		<h5 id="box">点击查看event</h5>
	</div>
	<script>
	// 面向过程
        /*var oBox=null;
        var disX=0;
        var disY=0;
        
        window.onload=function(){
            oBox=document.getElementById('box');
            oBox.onmousedown=fnDown;
        };
        //鼠标按下事件
        function fnDown(ev){
            var oEvent = ev||event;
            disX = oEvent.clientX - oBox.offsetLeft;
            disY = oEvent.clientY - oBox.offsetTop;
            
            document.onmousemove = fnMove;
            document.onmouseup = fnUp;
        }
        //鼠标移动事件
        function fnMove(ev){
            var oEvent=ev||event;
            oBox.style.left = oEvent.clientX - disX + 'px';
            oBox.style.top = oEvent.clientY - disY + 'px';
        }
        //鼠标抬起事件
        function fnUp(){
            document.onmousemove = null;
            document.onmouseup = null;
        }*/
    </script>
    <script>
    // 面向对象
    function Box(box_id){
        var _this = this;
        this.oBox = document.getElementById('box');
        this.disX = 0;
        this.disY = 0;
        this.oBox.onmousedown = function(e){
            _this.fdown();
        }
    }
    Box.prototype.fdown = function(e){
        var oEvent = e || event,
            _this = this;
        this.disX = oEvent.clientX - this.oBox.offsetLeft;
        this.disY = oEvent.clientY - this.oBox.offsetTop;
        document.onmousemove = function(){
            _this.fmove();
        }
        document.onmouseup = function(){
            _this.fup();
        }
    }
    Box.prototype.fmove = function(e){
        var oEvent = e || event;
        this.oBox.style.left = oEvent.clientX - this.disX +'px';
        this.oBox.style.top = oEvent.clientY - this.disY +'px';
    }
    Box.prototype.fup = function(){
        document.onmousemove = null;
        document.onmouseup = null;
    }
    window.onload = function(){
        var oBox = new Box('box'); 
    }
    </script>
















    <script>
    // 面向对象
    	/*function Box(id){
    		this.oBox = document.getElementById(id);
    		this.disX = 0;
    		this.disY = 0;
    		var _this = this;
    		this.oBox.onmousedown = function(){
    			_this.fnDown();
    		}
    	}
    	Box.prototype.fnDown = function(ev){
    		var oEvent = ev||event,
    			_this = this;
            this.disX = oEvent.clientX - this.oBox.offsetLeft;
            this.disY = oEvent.clientY - this.oBox.offsetTop;
            document.onmousemove = function(){
            	_this.fnMove();
            }
            document.onmouseup = function(){
            	_this.fnUp();
            }
    	}
    	Box.prototype.fnMove = function(ev){
    		var oEvent=ev||event;
            this.oBox.style.left = oEvent.clientX - this.disX + 'px';
            this.oBox.style.top = oEvent.clientY - this.disY + 'px';
    	}
    	Box.prototype.fnUp = function(){
    		document.onmousemove = null;
            document.onmouseup = null;
    	}
    	window.onload=function(){
    		var oBox = new Box('box');
        };*/
    </script>
</body>
</html>